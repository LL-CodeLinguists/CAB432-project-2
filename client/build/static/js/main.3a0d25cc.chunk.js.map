{"version":3,"sources":["Components/search.js","Components/home.js","Components/navbar.js","Components/serachResult.js","App.js","index.js"],"names":["SearchBar","placeholder","useState","query","setQuery","history","useHistory","parameter","setParameter","type","setType","hashtag","setHashtag","useEffect","params","URLSearchParams","append","toString","className","onSubmit","e","preventDefault","push","pathname","search","onChange","event","searchWord","target","value","Dropdown","selection","clearable","textContent","options","key","text","tag","Home","Nav","Navbar","expand","variant","bg","Container","Brand","href","SentimentBarchart","props","dataSet","sentiment","positives","negatives","neutruals","map","subject","count","ConstructSentimentData","color","d3","selectAll","data","enter","dt","classed","style","max","forEach","getMax","transition","duration","bar","d","i","delay","id","SearchResult","useLocation","searchTerm","get","tweetLoading","setTweetLoading","tweets","setTweets","setSentiment","loading","setLoading","url","toLowerCase","fetch","then","res","json","console","log","sentimentAnalysis","tweetData","length","Row","xs","md","tweet","Col","Card","border","Header","Title","name","Subtitle","screen_name","Body","Text","Footer","time","App","path","exact","component","styleLink","document","createElement","rel","head","appendChild","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3a0d25cc.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { useHistory, useParams } from \"react-router-dom\"\nimport { Dropdown } from 'semantic-ui-react'\nimport  \"../CSS/search.css\";\n\n\n\n\nfunction SearchBar({placeholder}){\n    const [query, setQuery] = useState(null)\n    const history = useHistory()\n    const [parameter, setParameter] = useState(\"\")\n    const [type, setType] = useState(null)\n    const [hashtag, setHashtag] = useState(null)\n\n    function handleChange(e, {value}){\n        setType(e.target.textContent)\n    }\n\n    const types = [\n        { key: 1, text: 'Recent', value: 1 },\n        { key: 2, text: 'Popular', value: 2 },\n      ]\n\n\n    function GetTweets(params){\n        history.push({\n            pathname: \"/search\",\n            search: params})\n    }\n\n\n    const handleFilter = (event) => {\n        const searchWord = event.target.value \n        setQuery(searchWord)\n    }\n\n    const handleHashtag = (event) => {\n        const tag = event.target.value\n        setHashtag(tag)\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault()\n        GetTweets(parameter)\n    }\n\n    useEffect(() => {\n        const params = new URLSearchParams()\n\n\n        if (query){\n            params.append(\"q\", query)\n        }\n        if (type){\n            params.append(\"t\", type)\n        }\n        \n        if (hashtag){\n            params.append(\"h\", hashtag)\n        } \n                 \n        \n        setParameter(params.toString())\n\n    }, [query, history, type, hashtag])\n\n    return(\n        <div className=\"search\">\n            <form \n            className=\"searchInputs\"\n            onSubmit={handleSubmit}\n            >\n                <input type=\"text\" \n                    placeholder={placeholder} \n                    onChange={handleFilter}\n                    />\n\n            <Dropdown\n                className=\"dropdown\"\n                placeholder='Select type(Optional)'\n                selection\n                clearable\n                onChange={handleChange} \n                options={types} \n            />\n\n                <button className=\"submitButton\" type=\"submit\"></button>\n\n            \n\n            <input className=\"hashtag\" type=\"text\" \n                    placeholder=\"Enter a hashtag without #(Optional)\"\n                    onChange={handleHashtag}\n                    />\n            </form>\n        </div>\n    )\n}\n\nexport default SearchBar","import React, { useEffect, useState } from 'react';\nimport SearchBar from './search';\nimport \"../CSS/home.css\"\n\n\n\n\nfunction Home(){\n    return(\n        <div className=\"home\">\n            <SearchBar placeholder=\"Search anything... Press enter to submit\"/>\n   \n        </div>\n    )\n}\n\nexport default Home\n\n\n","import React from 'react';\nimport { Navbar, Container, NavbarBrand } from 'react-bootstrap';\nimport \"../CSS/nav.css\";\n\nfunction Nav(){\n\n    return(\n        <div>\n            <Navbar className=\"nav\" expand=\"lg\" variant=\"dark\" bg=\"dark\">\n                <Container>\n                    <Navbar.Brand href=\"/\" className=\"nav-brand\">Twitter Engine</Navbar.Brand>\n                </Container>\n            </Navbar>\n        </div>\n    )\n}\n\nexport default Nav;","import React, { useEffect, useState } from \"react\"\nimport { useHistory, useParams, useLocation } from \"react-router-dom\"\nimport { Card, Row, Col } from \"react-bootstrap\";\nimport \"../CSS/searchResult.css\"\nimport * as d3 from 'd3'\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n  }\n\n\nfunction ConstructSentimentData(sentiment){\n    let positives = 0\n    let negatives = 0\n    let neutruals = 0\n\n    sentiment.map(value => {\n        if(value > 0) {positives++}\n        if(value == 0){neutruals++}\n        if(value < 0) {negatives++}\n    })\n\n    return [\n        {subject: \"Positive\",  count: positives},\n        {subject: \"Neutrual\", count: neutruals},\n        {subject: \"Negative\", count: negatives}\n    ]\n}\n\nfunction SentimentBarchart(props){\n    const dataSet = ConstructSentimentData(props.sentiment)\n\n    var color = [\"#FE8F8F\", \"#FFFD95\", \"#B5DEFF\"]\n\n    useEffect(() => {\n        d3.select('#pgraphs')\n        .selectAll('p')\n        .data(dataSet)\n        .enter()\n        .append('p')\n        .text(dt => dt.subject + \": \" + dt.count)\n\n        // Bar chart:\n        const getMax = () => {\n            let max = 0;\n            dataSet.forEach( (dt) => {\n                if(dt.count > max) {max = dt.count}\n                }\n            )\n            return max\n        }\n\n        d3.select('#BarChart').selectAll('div').data(dataSet)\n        .enter().append('div').classed('bar', true).style('height', `${getMax()}px`)\n\n        d3.select('#BarChart').selectAll('.bar')\n        .transition().duration(1000).style('height', bar => `${bar.count * 6}px`)\n        .style('width','50px')\n        .style(\"background\", function(d, i){return color[i]})\n        .delay(300)\n    }, [])\n    return(\n    <div className=\"graph\">\n        <h1>Sentiment Analysis</h1>\n        <div id='BarChart'></div>\n        <div id=\"pgraphs\"> </div>\n    </div>\n    )\n}\n\n\n\nfunction SearchResult(){\n    \n    const query = useQuery()\n    const searchTerm = query.get(\"q\")\n    const hashtag = query.get(\"h\")\n    const type = query.get(\"t\")\n    const [tweetLoading, setTweetLoading] = useState(true)\n    const [tweets, setTweets] = useState([])\n    const [sentiment, setSentiment] = useState([])\n    const [loading, setLoading] = useState(true)\n\n    const url = `/api/tweet/search?q=${searchTerm}${hashtag == null ? '' : \"&h=\" + hashtag}${type == null ? '' : \"&t=\" + type.toLowerCase()}`\n    useEffect(\n        () => {\n            fetch(url)\n            .then(res => res.json())\n            .then(res => {\n                console.log(res)\n                setSentiment(res.sentimentAnalysis)\n                setLoading(false)\n\n                return res.tweetData\n            })\n            .then(res => {\n                setTweets(res)\n                setTweetLoading(false)\n            })\n    \n        }\n    , [url])\n\n\n    if (tweetLoading && loading){\n        return(\n            <div>\n                <h1 className=\"loading\">Loading Tweets and Sentiment Analysis...</h1>\n            </div>\n        )\n        }\n    else{\n        return(\n            <div>\n                <h1 className=\"search-heading\">Found {tweets.length} tweets containing '{searchTerm}' {hashtag == null ? '' : \"with hashtag #\" + hashtag} {type == null ? '' : \"in \" + type + \" order\"}! {tweets.length == 0 ? \"Please use other terms!\" : \"\"}</h1>\n                \n                {tweets.length == 0 ? <div></div> : <SentimentBarchart sentiment={sentiment}/>}\n\n                <div className=\"results\">\n\n                <Row xs={1} md={4} className=\"g-4\">\n                {tweets.map(tweet => (\n                        <Col>\n                        <Card border=\"secondary\" className=\"card\">\n                            <Card.Header> \n                                <Card.Title>{tweet.name}</Card.Title>\n                                <Card.Subtitle style={{color: \"gray\"}}>@{tweet.screen_name}</Card.Subtitle>\n                            </Card.Header>\n                            <Card.Body>\n                                <Card.Text>\n                                    {tweet.text}\n                                </Card.Text>\n                            </Card.Body>\n                            <Card.Footer>\n       \n                                <small className=\"text-muted\">{tweet.time}</small>\n                            </Card.Footer>\n                        </Card>\n                        </Col>\n    \n    \n                ))}\n            </Row>\n    \n            </div>\n            </div>\n        )\n    }\n\n\n}\n\nexport default SearchResult","import React, { useEffect, useState } from 'react';\nimport Home from \"./Components/home\"\nimport Nav from './Components/navbar';\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport \"./CSS/App.css\"\nimport SearchResult from './Components/serachResult';\nconst GetComment = ({ url }) => {\n  const [ comment, setComment ] = useState(null);\n\n  useEffect(() => {\n    fetch(url)\n      .then(res => res.json())\n      .then(res => console.log(res))\n\t\t\t.catch(() => null);\n\t}, []);\n\n\n  return (\n    <p>Dick!</p>\n  )\n}\n\nfunction App() {\n  return (\n    <div className=\"App\">\n    <BrowserRouter>\n      <div className=\"App\">\n        <Nav />\n        <Switch>\n          <Route path=\"/\" exact component={Home} />\n          <Route path=\"/search\"  component={SearchResult} />\n        </Switch>\n      </div>\n    </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"./index.css\"\nconst styleLink = document.createElement(\"link\");\nstyleLink.rel = \"stylesheet\";\nstyleLink.href = \"https://cdn.jsdelivr.net/npm/semantic-ui/dist/semantic.min.css\";\ndocument.head.appendChild(styleLink);\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}